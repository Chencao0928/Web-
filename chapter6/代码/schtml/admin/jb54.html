<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<title>新闻系统后台管理</title>
</head>

<body>
<h2 align="center">新闻系统后台管理</h2>
<p align="right"><a href="addnews2.php">添加新闻</a></p>
<table width="600" border="0" align="center" cellpadding="6" cellspacing="1" bgcolor="#FF00FF">
<tbody bgcolor="#ffffff">
  <tr>
     <th>ID</th>
    <th>新闻标题</th>
   <th>发布者</th>
    <th>发布时间</th>
    <th>操作</th>
  </tr>
    <tr>
    <td rowspan="2">35</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-07-02/22-21-49.html">手下败将</a></td>
	 <td>的发送到</td>
	  <td>2013-07-02 22:21:49</td>
    <td rowspan="2"><a href="editnews.php?id=35">编辑</a> <a href="del.php?id=35">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：的诗圣杜甫士大夫的说法 </td>
  </tr>
    <tr>
    <td rowspan="2">34</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-07-02/18-29-48.html">这是第一条新闻</a></td>
	 <td>小乐</td>
	  <td>2013-07-02 18:29:48</td>
    <td rowspan="2"><a href="editnews.php?id=34">编辑</a> <a href="del.php?id=34">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：这条新闻将被添加到news表中，并将会生成静态的HTML页面文件，保存在对应目录下 </td>
  </tr>
    <tr>
    <td rowspan="2">30</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-07-02/18-13-37.html">时代复分师德师风</a></td>
	 <td>是的丰富的</td>
	  <td>2013-07-02 18:13:37</td>
    <td rowspan="2"><a href="editnews.php?id=30">编辑</a> <a href="del.php?id=30">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：的撒辅导费算法的 </td>
  </tr>
    <tr>
    <td rowspan="2">28</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-07-02/10-32-22.html">航空母舰正式下水</a></td>
	 <td>小洋</td>
	  <td>2013-07-02 10:32:22</td>
    <td rowspan="2"><a href="editnews.php?id=28">编辑</a> <a href="del.php?id=28">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：我国的大型航空母舰辽宁舰正式下水远航，这是一个值得纪念的时刻 </td>
  </tr>
    <tr>
    <td rowspan="2">27</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-07-01/22-33-37.html">唐思想想是法士大夫</a></td>
	 <td>的所发生的</td>
	  <td>2013-07-01 22:33:37</td>
    <td rowspan="2"><a href="editnews.php?id=27">编辑</a> <a href="del.php?id=27">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：撒的士大夫时代复分上的 </td>
  </tr>
    <tr>
    <td rowspan="2">24</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-07-01/10-02-40.html">sdfsd</a></td>
	 <td>夏日博客</td>
	  <td>2013-07-01 10:02:40</td>
    <td rowspan="2"><a href="editnews.php?id=24">编辑</a> <a href="del.php?id=24">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：sdfsdfsdfsd </td>
  </tr>
    <tr>
    <td rowspan="2">23</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-07-01/10-00-37.html">asd</a></td>
	 <td>夏日博客</td>
	  <td>2013-07-01 10:00:37</td>
    <td rowspan="2"><a href="editnews.php?id=23">编辑</a> <a href="del.php?id=23">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：asdfsdfsd </td>
  </tr>
    <tr>
    <td rowspan="2">22</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-07-01/10-00-21.html">sdfd</a></td>
	 <td>夏日博客</td>
	  <td>2013-07-01 10:00:21</td>
    <td rowspan="2"><a href="editnews.php?id=22">编辑</a> <a href="del.php?id=22">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：dsfssdfsfsdf </td>
  </tr>
    <tr>
    <td rowspan="2">21</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-07-01/09-59-23.html">sdfsdf</a></td>
	 <td>夏日博客</td>
	  <td>2013-07-01 09:59:23</td>
    <td rowspan="2"><a href="editnews.php?id=21">编辑</a> <a href="del.php?id=21">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：sdfsdfsdfsdfsdf </td>
  </tr>
    <tr>
    <td rowspan="2">20</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-19-47.html">万网空间 M1型 M2型  iis 7.5 处理url时服务器发生错误,请和系统管理员联系</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:19:47</td>
    <td rowspan="2"><a href="editnews.php?id=20">编辑</a> <a href="del.php?id=20">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：&nbsp;只需要将“&lt;%@LANGUAGE="VBscri&amp;#112;t" CODEPAGE="936"%&gt;”这句话删除掉就OK了。<BR><BR>如果是自己的服务器出现这样的错误,可以先进行开启错误调试的功能,如下：<BR><BR>第一步：服务器上的设置，打开IIS，站点，右键，属性，主目录，配置，调试，启用服务器段调试，启用客户端调试，向客户端发送详细错误信息第二部：客户端的设置，IE，Internet选项，高级，禁用脚本调试（ie）去掉，禁用脚本调试（其他）去掉第三步：根据错误信息进行程序修改第四步：调试完成过后把服务器端的设置改回去，以免给无聊的假黑客留下空隙。 </td>
  </tr>
    <tr>
    <td rowspan="2">19</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-19-18.html">win2003 IIS的备份/还原</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:19:18</td>
    <td rowspan="2"><a href="editnews.php?id=19">编辑</a> <a href="del.php?id=19">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：&nbsp;在网上看到了一些关于IIS备份/还原的文章，但是说的各不一样，下面针对win2003下的IIS的备份/还原来介绍一下。<BR><BR>一、IIS的备份<BR><BR>1.在本地计算机上的 IIS 管理单元中，右键单击 Internet 信息服务下面的计算机图标。<BR><BR>2.选择“所有任务\备份/还原配置”选项。<BR><BR>3.点击“创建备份”按钮，在配置备份名称下输入你为备份起的名字<BR><BR>4.将“使用密码加密备份”勾选上（后面会介绍为什么要勾选此项）<BR><BR>5.输入密码，备份完成。<BR><BR>注：备份后的备份文件在 X:\WINDOWS\system32\inetsrv\MetaBack\ (X代表你安装系统的盘符)。<BR><BR>二、IIS的还原<BR><BR>1.在本地计算机上的 IIS 管理单元中，右键单击 Internet 信息服务下面的计算机图标。<BR><BR>2.选择“所有任务\备份/还原配”选项。<BR><BR>3.选中你的备份，点击还原，将出将一个对话框，提示“还原配置数据库操作非常耗时，它将清除所有当前设置，并导致所有internet服务停止。当操作完成后，IIS将重新启动这些服务。您确信要继续吗？”不管它，点是，然后弹出要求输入备份密码的对话框，输入完密码后，IIS备份就还原了。<BR><BR>三、重新安装系统或重新安装IIS后的还原<BR><BR>1.首先将X:\WINDOWS\system32\inetsrv\MetaBack(X代表你安装系统的盘符)下的.sco和.mdo的两个备份的文件拷贝到新系统下的相同目录中。<BR><BR>2.在本地计算机上的 IIS 管理单元中，右键单击 Internet 信息服务下面的计算机图标。<BR><BR>3.选择“所有任务\备份/还原配”选项。<BR><BR>3.选中你的备份，点击还原，将出现一个对话框，提示“还原配置数据库操作非常耗时，它将清除所有当前设置，并导致所有internet服务停止。当操作完成后，IIS将重新启动这些服务。您确信要继续吗？”不管它，点是，然后弹出要求输入备份密码的对话框，输入完密码后，IIS备份就还原了。如果在做备份的时候，没有将“使用密码加密备份”勾选上，那么在重新安装系统后的还原时会提示无效签名，这就是为什么要在做备份的时候要将“使用密码加密备份”勾选上。^_^ <BR> </td>
  </tr>
    <tr>
    <td rowspan="2">18</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-19-01.html">服务器的w3wp.exe进程占用cpu和内存过多的问题</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:19:01</td>
    <td rowspan="2"><a href="editnews.php?id=18">编辑</a> <a href="del.php?id=18">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：&nbsp;在IIS6下，经常出现w3wp.exe的内存及CPU占用不能及时释放，从而导致服务器响应速度很慢。<BR><BR>解决CPU占用过多：<BR>1、在IIS中对每个网站进行单独的应用程序池配置。即互相之间不影响。<BR>2、设置应用程序池的CPU监视，不超过25%（服务器为4CPU），每分钟刷新，超过限制时关闭。<BR><BR>根据w3wp取得是哪一个应用程序池：<BR><BR>1、在任务管理器中增加显示pid字段。就可以看到占用内存或者cpu最高的进程pid<BR>2、在命令提示符下运行iisapp -a。注意，第一次运行，会提示没有js支持，点击确定。然后再次运行就可以了。这样就可以看到pid对应的应用程序池。（iisapp实际上是存放在C:\windows\system32目录下的一个VBS脚本，全名为iisapp.vbs，如果你和我一样，也禁止了Vbs默认关联程序，那么就需要手动到该目录，先择打开方式，然后选“Microsoft (r) Windows Based Script Host”来执行，就可以得到PID与应用程序池的对应关系。）<BR>3、到iis中察看该应用程序池对应的网站，就ok了，做出上面的内存或CPU方面的限制，或检查程序有无死循环之类的问题。<BR><BR>&nbsp;&nbsp;&nbsp; 解决内存占用过多，可以做以下配置：<BR><BR>1、在IIS中对每个网站进行单独的应用程序池配置。即互相之间不影响。<BR>2、设置应用程序池的回收时间，默认为1720小时，可以根据情况修改。再设置当内存占用超过多少（如500M），就自动回收内存。<BR><BR>我的设置如下：<BR><BR>&nbsp;&nbsp;&nbsp; 首先是对CPU的限制：在启用cpu监视后，我设置该应用程序池最大的cpu使用率为50%。设置刷新cpu时间为1分钟，设置操作为“关闭”。最大工作进程数设置为1。这个意思是，IIS刷新检测该独立池的CPU使用情况时间为1分钟，如果超过设置的cpu限制50％，就会发出关闭池的指令，要求池在指定的时间内关闭。如果池成功在这个时间内关闭，IIS会重启动一个新池，此段时间很短，一般不会有什么感觉，池就重新开启了，对于访问网站的人基本是不会有感觉的。但如果池没有在指定时间内关闭，IIS就会强行关闭它一个刷新CPU时间。在这个停止的时间内，网站无法访问，提示“Service Unavaliable”。  </td>
  </tr>
    <tr>
    <td rowspan="2">17</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-18-31.html">设网站文件目录与数据库权限防止入侵</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:18:31</td>
    <td rowspan="2"><a href="editnews.php?id=17">编辑</a> <a href="del.php?id=17">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：&nbsp;网站运营的过程中，最令站长头痛的可能就是网站被入侵了，实际上，如果提前设置好网站的目录权限，就可以保证网站能够经受大部分的漏洞攻击。本文介绍了设置文件目录和数据库权限的方法，设置权限的方法也并不难，只要根据本文一步步进行操作，就可以大大提高网站的安全性。<BR><BR>网站目录权限的设置方法<BR><BR>　　大多数网站都是采用程序搭建，对于系统管理的目录，可以将其设置为可读也可执行脚本，但不可写入的权限;但是对于放置网页静态文件的目录，以及放置图片文件、模板文件的目录，就可以将其设置为可读写但不可执行的系统权限。在权限分配明确之后，即使系统被入侵，也只能浏览而无法对文件进行直接的操作。<BR><BR>　　对于能够执行脚本的文件，最好设置只能读而不能写的权限(如图)，而需要写入的文件则将其设置为不能执行脚本，目录权限这样配置下来，网站系统的安全性会大大提高。如果只需要读取的目录或文件就只给读取权限，需要读取和写入的就给读取和写入权限即可其他的一概不给！<BR><BR><BR>　　下面就架设单独一个网站相应的IIS权限和网站目录权限设置做下具体的介绍和说明。<BR><BR>　　iis配置(包括网站所在目录)<BR><BR>　　1.新建自己的网站(*注意：在应用程序设置中执行权限设为无，在需要的目录里再更改)，目录不在系统盘<BR><BR>　　注：为支持asp.net,将系统盘\Inetpub\wwwroot中的aspnet_client文件夹复制到web根目录下，并给web根目录加上users权限。<BR><BR>　　2.删掉系统盘\inetpub目录<BR><BR>　　3.删除不用的映射<BR><BR>　　在"应用程序配置"里，只给必要的脚本执行权限：ASP、ASPX。<BR><BR>　　4.为网站创建系统用户<BR><BR>　　A.例如：网站为www.zzaq.net，新建用户www.zzaq.net权限为guests。然后在web站点属性里"目录安全性"---"身份验证和访问控制"里设置匿名访问使用下列Windows 用户帐户"的用户名和密码都使用www.zzaq.net这个用户的信息。(用户名：主机名\www.zzaq.net)<BR><BR>　　B.给网站所在的磁盘目录添加用户www.zzaq.net，只给读取和写入的权限。<BR><BR>　　5.设置应用程及子目录的执行权限<BR><BR>　　A.主应用程序目录中的"属性--应用程序设置--执行权限"设为纯脚本<BR><BR>　　B.在不需要执行asp、asp.net的子目录中，例如上传文件目录，执行权限设为无<BR><BR>　　6.应用程序池设置<BR><BR>　　我的网站使用的是默认应用程序池。设置"内存回收"：这里的最大虚拟内存为：1000M，最大使用的物理内存为256M，这样的设置几乎是没限制这个站点的性能的。<BR><BR>　　回收工作进程(分钟)：1440<BR><BR>　　在下列时间回收工作进程：06:00<BR><BR>数据库权限也要仔细设置<BR><BR>　　对于网站来说，数据库可以说是站点的核心，所有网站的内容都存储在数据库中。所以说数据库安全也是需要注意的地方。对于MySQL数据库来说，最好不要对网站直接使用root管理用户的权限，而要专门为每个站点开通一个数据库账号，而且将账户的权限设置仅限于操作当前数据库目录，并且对这些单独的MYSQL账号去掉file和EXECUTE的执行权限，这样一来，即使数据库被SQL注入，也只能到数据库一级，而无法拿到整个数据库服务器的权限。这样一来，只要经常对网站的数据库进行备份，就很少会出现数据库被入侵的情况。<BR><BR>　　另外需要注意的是，由于很多建站系统并没有使用数据库的存储过程，因此最好禁用FILE、EXECUTE　等执行存储过程或文件操作的权限。<BR><BR>　　小提示：对于Access的数据库来说，可以将数据库的存放位置进行修改，最好是较为隐蔽的目录，这样会避免数据库文件被恶意探测下载。另外，一些程序也支持修改后缀，比如可以将。mdb的数据库文件修改为。asa等后缀名，同样可以有效地保护数据库安全。<BR><BR>　　删除不需要的文件<BR><BR>　　很多内容管理系统中，都会在空间中存在很多以后并不需要的文件，最普遍的可能就属于系统安装文件了，这类文件通常被命名为install.php或者install.asp，如果你的空间中存在类似的文件，现在就赶快删除吧。<BR><BR>　　另外，一些CMS也会存在很多功能，如问答系统等等，但是往往这些功能在网站中都不会用到，这时候就建议将这些功能的目录删除，或者仅保留Html静态页面，然后将目录设置为可读写但不可执行的权限。&#65279;  </td>
  </tr>
    <tr>
    <td rowspan="2">16</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-17-59.html">SQLserver数据库出现日志文件已满的解决问题</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:17:59</td>
    <td rowspan="2"><a href="editnews.php?id=16">编辑</a> <a href="del.php?id=16">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：&nbsp;&nbsp;&nbsp; 今天在对SQLserver数据库进行管理维护时，发现数据库的日志文件已经达到5个G了，加上网站本身页面和备份的数据库等文件，60多个G的一个磁盘已经剩下得不多了，导至网站因为SQLserver数据库日志文件太大而出现“ 数据库 'xx' 的日志已满。请备份该数据库的事务日志以释放一些日志空间”的问题。为了尽快使用网站恢复正常使用，技术部直接备份了原数据库日志文件，然后又新建了一个数据库日志，整理出一些磁盘空间出来，这是在出现问题第一个最为便利的方法。<BR><BR>出现此错误的原因是：<BR><BR>&nbsp;&nbsp;&nbsp; sql server数据库使用时间长了，日志文件会很大，占用过多系统资源，数据库可能会报 log full 的错误，甚至磁盘空间占满让数据库处于不可用状态，这个时候我们需要清理数据库，以前有人开发了数据库日志清理工具，好像还要收费，其实很简单就可以完成这个操作，请跟我来：<BR><BR>&nbsp;&nbsp;&nbsp; 在解决问题之后，从网站又查找了两种网络上常用的方法，以备查阅使用，如下：<BR><BR>方法一：清空日志。<BR><BR>1、打开查询分析器，输入命令DUMP TRANSACTION 数据库名 WITH NO_LOG<BR><BR>2、再打开企业管理器--右键你要压缩的数据库--所有任务--收缩数据库--收缩文件--选择日志文件--在收缩方式里选择收缩至: ,这里会给出一个允许收缩到的最小M数,直接输入这个数,确定就可以了。<BR><BR>&nbsp;&nbsp;&nbsp; 方法二：有一定的风险性，因为SQL SERVER的日志文件不是即时写入数据库主文件的，如处理不当，会造成数据的损失。<BR><BR>1、删除LOG<BR><BR>分离数据库 企业管理器－＞服务器－＞数据库－＞右键－＞分离数据库<BR><BR>2、删除LOG文件<BR><BR>附加数据库 企业管理器－＞服务器－＞数据库－＞右键－＞附加数据库<BR><BR>此法生成新的LOG，大小只有500多K。<BR><BR>注意：建议使用第一种方法。<BR><BR>&nbsp;&nbsp;&nbsp; 如果以后，不想要它变大:SQL2000下使用：在数据库上点右键-&gt;属性-&gt;选项-&gt;故障恢复-模型-选择-简单模型,或用SQL语句：alter database 数据库名 set recovery simple,另外，数据库属性有两个选项，与事务日志的增长有关：Truncate log on checkpoint(此选项用于SQL7.0，SQL 2000中即故障恢复模型选择为简单模型)<BR><BR>&nbsp;&nbsp;&nbsp; 当执行CHECKPOINT 命令时如果事务日志文件超过其大小的70% 则将其内容清除在开发数据库时时常将此选项设置为True<BR><BR>&nbsp;&nbsp;&nbsp; 定期对数据库进行检查当数据库文件或日志文件的未用空间超过其大小的25%时，系统将会自动缩减文件使其未用空间等于25% 当文件大小没有超过其建立时的初始大小时不会缩减文件缩减后的文件也必须大于或等于其初始大小对事务日志文件的缩减只有在对其作备份时或将Truncate log on checkpoint 选项设为True 时才能进行。<BR><BR>&nbsp;&nbsp;&nbsp; 注意：一般立成建立的数据库默认属性已设好，但碰到意外情况使数据库属性被更改，请用户清空日志后，检查数据库的以上属性，以防事务日志再次充满。&#65279;  </td>
  </tr>
    <tr>
    <td rowspan="2">15</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-16-27.html">js控制图片左右不间断滚动代码</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:16:27</td>
    <td rowspan="2"><a href="editnews.php?id=15">编辑</a> <a href="del.php?id=15">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：&nbsp;今天给一个客户做网站，要求左右不间断滚动的，用Marquee 标签做出来的效果会留白，显得不是很美观。从互联网上搜集了一段不错的js控制的图片左右不间断滚动代码，可以用来做美化用。<BR><BR>1,滚动的内容页面，可以用文字也可以用图片等网页信息内容<BR><BR>&lt;TABLE cellSpacing=0 cellPadding=0 width=97% align=center border=0&gt;<BR>&lt;TBODY&gt;<BR>&lt;TR&gt;<BR>&lt;TD align="center"&gt;<BR>&lt;DIV id=demo style="OVERFLOW: hidden; WIDTH: 97%; COLOR: #ffffff"&gt;<BR>&lt;TABLE cellSpacing=0 cellPadding=0 align=left border=0 cellspace="0"&gt;<BR>&lt;TBODY&gt;<BR>&lt;TR&gt;<BR>&lt;TD id=demo1 vAlign=top&gt;&lt;table width="97%" height="100%" border="0" cellpadding="0" cellspacing="0"&gt;<BR>&lt;tr&gt;<BR>&lt;td&gt;&lt;img src="images/gd01.jpg"&gt;&lt;/td&gt;<BR>&lt;td&gt;&lt;img src="images/gd02.jpg"&gt;&lt;/td&gt;<BR>&lt;td&gt;&lt;img src="images/gd03.jpg"&gt;&lt;/td&gt;<BR>&lt;td&gt;&lt;img src="images/gd04.jpg"&gt;&lt;/td&gt;<BR>&lt;td&gt;&lt;img src="images/gd05.jpg"&gt;&lt;/td&gt;<BR>&lt;td&gt;&lt;img src="images/gd06.jpg"&gt;&lt;/td&gt;<BR>&lt;td&gt;&lt;img src="images/gd07.jpg"&gt;&lt;/td&gt;<BR>&lt;td&gt;&lt;img src="images/gd08.jpg"&gt;&lt;/td&gt;<BR>&lt;td&gt;&lt;img src="images/gd09.jpg"&gt;&lt;/td&gt;<BR>&lt;td&gt;&lt;img src="/template/fengyun/images/gd10.jpg"&gt;&lt;/td&gt;<BR>&lt;/tr&gt;<BR>&lt;/table&gt;&lt;/TD&gt;<BR>&lt;TD id=demo2 vAlign=top&gt; &lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;&lt;/DIV&gt;<BR>&lt;script language=Javascript src="js/scrollpic.js"&gt;&lt;/script&gt; &lt;/TD&gt;&lt;/TR&gt;&lt;/TBODY&gt;&lt;/TABLE&gt;<BR><BR>2，调用的js特效代码<BR><BR>var speed3=25//速度数值越大速度越慢<BR>demo2.innerHTML=demo1.innerHTML<BR>function Marquee(){<BR>if(demo2.offsetWidth-demo.scrollLeft&lt;=0)<BR>demo.scrollLeft-=demo1.offsetWidth<BR>else{<BR>demo.scrollLeft++<BR>}<BR>}<BR>var MyMar=setInterval(Marquee,speed3)<BR>demo.onmouseover=function() {clearInterval(MyMar)}<BR>demo.onmouseout=function() {MyMar=setInterval(Marquee,speed3)}  </td>
  </tr>
    <tr>
    <td rowspan="2">14</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-16-04.html">JS调用FLASH去除FLASH虚线框</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:16:04</td>
    <td rowspan="2"><a href="editnews.php?id=14">编辑</a> <a href="del.php?id=14">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：一，在HEAD里加入调用代码 <BR>程序代码&lt;script src="js文件名"&gt;&lt;/script&gt; <BR><BR>二，其中js的代码：保存成.JS文件 <BR><BR>/* ObjectSwap - Bypasses the new ActiveX Activation requirement in Internet Explorer by swapping existing ActiveX objects on the page with the same objects. Can also be used for Flash version detection by adding the param: <BR>&lt;param name="flashVersion" value="8" /&gt; to the object tag. <BR><BR>Author: Karina Steffens, www.neo-archaic.net <BR>Created: April 2006 <BR>Changes and bug fixes: May 2006 <BR>Bug fixes: June 2006 <BR>Changes: October 2006 (Included Opera9 and excluded IE5.5) <BR>*/ <BR><BR>//Check if the browser is InternetExplorer, and if it supports the getElementById DOM method <BR>var ie = (document.defaultCharset &amp;&amp; document.getElementById &amp;&amp; !window.home); <BR>var opera9 = false; <BR>if (ie){ <BR>//Check for ie 5.5 and exclude it from the script <BR>var ver=navigator.appVersion.split("MSIE") <BR>ver=parseFloat(ver[1]) <BR>ie = (ver &gt;=6) <BR>}else if (navigator.userAgent.indexOf("Opera")!=-1) { <BR>//Check for Opera9 and include it in the ObjectSwap <BR>var versi.userAgent.indexOf("Opera")+6 <BR>if (parseInt(navigator.userAgent.charAt(versionindex))&gt;=9) <BR>opera9 = true; <BR>} <BR>//Perform ObjectSwap if the browser is IE or Opera (if not just check flashVersion) <BR>var oswap = (ie || opera9) <BR><BR>//Hide the object to prevent it from loading twice <BR>if (oswap){ <BR>document.write ("&lt;style id='hideObject'&gt; object{display:none;} &lt;/style&gt;"); <BR>} <BR><BR>/*Replace all flash objects on the page with the same flash object, <BR>by rewriting the outerHTML values <BR>This bypasses the new IE ActiveX object activation issue*/ <BR>objectSwap = function(){ <BR>if (!document.getElementsByTagName){ <BR>return; <BR>} <BR>//An array of ids for flash detection <BR>var stripQueue = []; <BR>//Get a list of all ActiveX objects <BR>var objects = document.getElementsByTagName('object'); <BR>for (var i=0; i&lt;objects.length; i++){ <BR>var o = objects; <BR>var h = o.outerHTML; <BR>//The outer html omits the param tags, so we must retrieve and insert these separately <BR>var params = ""; <BR>var hasFlash = true; <BR>for (var j = 0; j&lt;o.childNodes.length; j++) { <BR>var p = o.childNodes[j]; <BR>if (p.tagName == "PARAM"){ <BR>//Check for version first - applies to all browsers <BR>//For this to work, a new param needs to be included in the object with the name "flashVersion" eg: <BR>//&lt;param name="flashVersion" value="7" /&gt; <BR>if (p.name == "flashVersion"){ <BR>hasFlash = detectFlash(p.value); <BR>if (!hasFlash){ <BR>//Add the objects id to the list (create a new id if there's isn't one already) <BR>o.id = (o.id == "") ? ("stripFlash"+i) : o.id; <BR>stripQueue.push(o.id); <BR>break; <BR>} <BR>} <BR>params += p.outerHTML; <BR>} <BR>} <BR>if (!hasFlash){ <BR>continue; <BR>} <BR>//Only target internet explorer <BR>if (!oswap){ <BR>continue; <BR>} <BR>//Avoid specified objects, marked with a "noswap" classname <BR>if (o.className.toLowerCase().indexOf ("noswap") != -1){ <BR>continue; <BR>} <BR>//Get the tag and attributes part of the outer html of the object <BR>var tag = h.split("&gt;")[0] + "&gt;"; <BR>//Add up the various bits that comprise the object: <BR>//The tag with the attributes, the params and it's inner html <BR>var newObject = tag + params + o.innerHTML + " &lt;/OBJECT&gt;"; <BR>//And rewrite the outer html of the tag <BR>o.outerHTML = newObject; <BR>} <BR>//Strip flash objects <BR>if (stripQueue.length) { <BR>stripFlash(stripQueue) <BR>} <BR>//Make the objects visible again <BR>if (oswap){ <BR>document.getElementById("hideObject").disabled = true; <BR>} <BR>} <BR><BR>detectFlash = function(version){ <BR>if(navigator.plugins &amp;&amp; navigator.plugins.length){ <BR>//Non-IE flash detection. <BR>var plugin = navigator.plugins["Shockwave Flash"]; <BR>if (plugin == undefined){ <BR>return false; <BR>} <BR>var ver = navigator.plugins["Shockwave Flash"].description.split(" ")[2]; <BR>return (Number(ver) &gt;= Number(version)) <BR>} else if (ie &amp;&amp; typeof (ActiveXObject) == "function"){ <BR>//IE flash detection. <BR>try{ <BR>var flash = new ActiveXObject("ShockwaveFlash.ShockwaveFlash." + version); <BR>return true; <BR>} <BR>catch(e){ <BR>return false; <BR>} <BR>} <BR>//Catchall - skip detection <BR>return true; <BR>} <BR><BR>//Loop through an array of ids to strip <BR>//Replace the object by a div tag containing the same innerHTML. <BR>//To display an alternative image, message for the user or a link to the flash installation page, place it inside the object tag. <BR>//For the usual object/embed pairs it needs to be enclosed in comments to hide from gecko based browsers. <BR>stripFlash = function (stripQueue){ <BR>if (!document.createElement){ <BR>return; <BR>} <BR>for (var i=0; i&lt;stripQueue.length; i++){ <BR>var o = document.getElementById(stripQueue); <BR>var newHTML = o.innerHTML; <BR>//Strip the comments <BR>newHTML = newHTML.replace(/&lt;!--\s/g, ""); <BR>newHTML = newHTML.replace(/\s--&gt;/g, ""); <BR>//Neutralise the embed tag <BR>newHTML = newHTML.replace(/&lt;embed/gi, "&lt;span"); <BR>//Create a new div element with properties from the object <BR>var d = document.createElement("div"); <BR>d.innerHTML = newHTML; <BR>d.className = o.className; <BR>d.id = o.id; <BR>//And swap the object with the new div <BR>o.parentNode.replaceChild(d, o); <BR>} <BR>} <BR><BR>//Initiate the function without conflicting with the window.onload event of any preceding scripts <BR>var tempFunc = window.onload; <BR>window.onload = function(){ <BR>if (typeof (tempFunc) == "function"){ <BR>try{ <BR>tempFunc(); <BR>} catch(e){} <BR>} <BR>objectSwap(); <BR>} <BR><BR><SPAN style="COLOR: red">说明：</SPAN>做门户网站时有时候我们需要将FLASH动画单独做成JS文件来调用，这样大大加快了页面的浏览速度，而且显得整个页面干净整洁。但一般将FLASH封装成JS，在有些浏览器里面FLASH动画显示虚框，可以封装上面的代码保存为JS文件，在调用JS FLASH的页面里面直接引用即可。 <BR> </td>
  </tr>
    <tr>
    <td rowspan="2">13</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-15-37.html">错误:Object 标记不能放在另一个 Object 标记内解决方法</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:15:37</td>
    <td rowspan="2"><a href="editnews.php?id=13">编辑</a> <a href="del.php?id=13">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：&nbsp;今天将一个ASP网站放到WIN7服务器上面调试，网站正常运行，一个页面出现 Object 标记不能放在另一个 Object 标记内 ASP不能嵌套，在XP系统和2003里面正常运行，WIN7不支持这种嵌套方法,这是ASP本身的问题。<BR><BR>错误类型：<BR>Active Server Pages, ASP 0139 (0x80004005)<BR>Object 标记不能放在另一个 Object 标记内。<BR>本来html页面访问好好的，改成asp后，却出现了这个错误。<BR>典型的服务器端没事找客户端的磋！<BR>解决办法：<BR>&lt;div class="w960"&gt;<BR>&lt;%response.Write("&lt;object id=""FlashID"" classid=""clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"" width=""959"" height=""388""&gt;")%&gt;<BR>&lt;param name="movie" value="banner_1up.swf" /&gt;<BR>&lt;param name="quality" value="high" /&gt;<BR>&lt;param name="wmode" value="opaque" /&gt;<BR>&lt;param name="swfversion" value="8.0.35.0" /&gt;<BR>&lt;!-- 此 param 标签提示使用 Flash Player 6.0 r65 和更高版本的用户下载最新版本的 Flash Player。如果您不想让用户看到该提示，请将其删除。 --&gt;<BR>&lt;param name="expressinstall" value="Scripts/expressInstall.swf" /&gt;<BR>&lt;!-- 下一个对象标签用于非 IE 浏览器。所以使用 IECC 将其从 IE 隐藏。 --&gt;<BR>&lt;!--[if !IE]&gt;--&gt;<BR>&lt;%response.Write("&lt;object type=""application/x-shockwave-flash"" data=""banner_1up.swf"" width=""959"" height=""388""&gt;")%&gt;<BR>&lt;!--&lt;![endif]--&gt;<BR>&lt;param name="quality" value="high" /&gt;<BR>&lt;param name="wmode" value="opaque" /&gt;<BR>&lt;param name="swfversion" value="8.0.35.0" /&gt;<BR>&lt;param name="expressinstall" value="Scripts/expressInstall.swf" /&gt;<BR>&lt;!-- 浏览器将以下替代内容显示给使用 Flash Player 6.0 和更低版本的用户。 --&gt;<BR>&lt;div&gt;<BR>&lt;h4&gt;此页面上的内容需要较新版本的 Adobe Flash Player。&lt;/h4&gt;<BR>&lt;p&gt;&lt;a href="<A href="http://www.adobe.com/go/getflashplayer" rel=external target=_blank><FONT color=#0066cc>http://www.adobe.com/go/getflashplayer</FONT></A>"&gt;&lt;img src="<A href="http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif" rel=external target=_blank><FONT color=#0066cc>http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif</FONT></A>" alt="获取 Adobe Flash Player" width="112" height="33" /&gt;&lt;/a&gt;&lt;/p&gt;<BR>&lt;/div&gt;<BR>&lt;!--[if !IE]&gt;--&gt;<BR>&lt;%response.Write("&lt;/object&gt;")%&gt;<BR>&lt;!--&lt;![endif]--&gt;<BR>&lt;%response.Write("&lt;/object&gt;")%&gt;<BR>&lt;/div&gt;<BR><BR>还有一种是 需要把EMBED标签嵌套放在OBJECT标签内,就如上面代码例子一样，这种方法没有测试过。 <BR> </td>
  </tr>
    <tr>
    <td rowspan="2">12</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-15-18.html">jquery form $.post提交的一些问题</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:15:18</td>
    <td rowspan="2"><a href="editnews.php?id=12">编辑</a> <a href="del.php?id=12">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：对应js处理页面：<BR>/**<BR>* <BR>*/<BR>$(function() {//加载完后处理页面<BR>//alert($("#faceimg").attr("src")) ;<BR>$("#faceimg").click(function(){<BR>window.open('face.php','face','width=400,height=400,top=0,left=0,scrollbars=1');<BR>});<BR><BR>$("#mycheckcode").click(<BR>function(){<BR>var url="includes/code.php?aa="+Math.random();<BR>$("#mycheckcode").attr("src",url);<BR><BR>}<BR>);<BR>/***<BR>//输入的每个值都要以post的方法放到data里面<BR>var adata='';<BR>$("input").each(<BR>function(){<BR>adata+=$(this).attr('name')+"="+$(this).val()+"&amp;";<BR>}<BR>);<BR><BR>$.ajax({<BR>type: "POST",//提交的方式 <BR>url: "registerProcess.php",//提交对应的页面<BR>dataType: "json",//返回的是什么格式<BR>data:adata,//post过去的data<BR>fail:function(msg){<BR>//失败处理函数<BR>},<BR>success:function(){<BR>//成功处理函数<BR><BR>}<BR>}); <BR>**/<BR>//作验证<BR>//如果是必填的，则加红星标识.<BR>$("form :input.required").each(function(){<BR>var $required = $("&lt;strong class='high'&gt; *&lt;/strong&gt;"); //创建元素<BR>$(this).parent().append($required); //然后将它追加到文档中<BR>});<BR>//文本框失去焦点后<BR>$('form :input').blur(function(){<BR>var $parent = $(this).parent();<BR>$parent.find(".formtips").remove();<BR>//验证用户名<BR>if( $(this).is('#username') ){<BR>if( this.value=="" || this.value.length &lt; 6 ){<BR>var errorMsg = '请输入至少6位的用户名.';<BR>$parent.append('&lt;span class="formtips onError"&gt;'+errorMsg+'&lt;/span&gt;');<BR>}else{<BR>var username = {"username":$(this).val()}; //json格式传过处理页面<BR>var changeurl = "action/UserAction.php?act=IsExistUserName&amp;flg=ling"; <BR>//用Post的方式 提交过去,验证用户名是否存在 <BR>$.post(changeurl,username,function(res){//成功返回值 <BR>if(res==1){<BR>var errorMsg ="用户名好受欢迎哦，再试下其他的吧";<BR>$parent.append('&lt;span class="formtips onError"&gt;'+errorMsg+'&lt;/span&gt;');<BR>}else{<BR>var okMsg ="用户名可用.";<BR>$parent.append('&lt;span class="formtips onSuccess"&gt;'+okMsg+'&lt;/span&gt;');<BR>}<BR>});<BR>}<BR><BR>}<BR>//验证密码长度<BR>if($(this).is("#password")){<BR>if(this.value==""||this.value.length&lt;2){<BR>var errorMsg = '请输入至少2个字符的密码.';<BR>$parent.append('&lt;span class="formtips onError"&gt;'+errorMsg+'&lt;/span&gt;');<BR>}else{<BR>var okMsg = '输入正确.';<BR>$parent.append('&lt;span class="formtips onSuccess"&gt;'+okMsg+'&lt;/span&gt;');<BR>}<BR><BR><BR>}<BR>//验证两次密码是否一致<BR>if($(this).is('#repassword')){<BR>if(this.value==""||this.value.length&lt;2){<BR>var errorMsg = '请输入至少2个字符的密码.';<BR>$parent.append('&lt;span class="formtips onError"&gt;'+errorMsg+'&lt;/span&gt;');<BR>}else{<BR>var password=$("#password").val();//取到密码的值<BR>if(this.value!=password){<BR>var errorMsg = '两次密码输入不一致.';<BR>$parent.append('&lt;span class="formtips onError"&gt;'+errorMsg+'&lt;/span&gt;');<BR>}else{<BR>var okMsg = '输入正确.';<BR>$parent.append('&lt;span class="formtips onSuccess"&gt;'+okMsg+'&lt;/span&gt;');<BR>}<BR>}<BR>}<BR><BR>//密码问题和密码提示要至少2个字符<BR>if($(this).is("#passtips")||$(this).is("#passans")){<BR>if( this.value=="" || this.value.length &lt; 6 ){<BR>var errorMsg = '请输入至少2位.';<BR>$parent.append('&lt;span class="formtips onError"&gt;'+errorMsg+'&lt;/span&gt;');<BR>}else{<BR>var okMsg = '输入正确.';<BR>$parent.append('&lt;span class="formtips onSuccess"&gt;'+okMsg+'&lt;/span&gt;');<BR>}<BR>}<BR><BR>//验证邮件<BR>if( $(this).is('#email') ){<BR>if( this.value=="" || ( this.value!="" &amp;&amp; !/.+@.+\.[a-zA-Z]{2,4}$/.test(this.value) ) ){<BR>var errorMsg = '请输入正确的E-Mail地址.';<BR>$parent.append('&lt;span class="formtips onError"&gt;'+errorMsg+'&lt;/span&gt;');<BR>}else{<BR>var okMsg = '输入正确.';<BR>$parent.append('&lt;span class="formtips onSuccess"&gt;'+okMsg+'&lt;/span&gt;');<BR>}<BR>}<BR><BR>//验证qq<BR>var qq=/[1-9][0-9]{4,}/ ;<BR>if($(this).is("#qq")){<BR>if(qq.test(this.value) ){<BR>var okMsg = '输入正确.';<BR>$parent.append('&lt;span class="formtips onSuccess"&gt;'+okMsg+'&lt;/span&gt;');<BR>}else{<BR>var errorMsg = '请输入正确的QQ.';<BR>$parent.append('&lt;span class="formtips onError"&gt;'+errorMsg+'&lt;/span&gt;');<BR><BR>}<BR>}<BR>//验证地址<BR>var url=/^https?:\/\/(\w+\.)?[\w\-\.]+(\.\w+)+$/ ;<BR>if($(this).is("#url")){<BR>if(url.test(this.value) ){<BR>var okMsg = '输入正确.';<BR>$parent.append('&lt;span class="formtips onSuccess"&gt;'+okMsg+'&lt;/span&gt;');<BR>}else{<BR>var errorMsg = '请输入正确的地址格式.';<BR>$parent.append('&lt;span class="formtips onError"&gt;'+errorMsg+'&lt;/span&gt;');<BR><BR>}<BR>}<BR>if($(this).is("#code")){<BR>var url="includes/getSession.php";<BR>$.post(url, {'sessionName':this.name,'value':this.value},function(res){<BR>if(res==1){<BR>var okMsg ="输入正确";<BR>$parent.append('&lt;span class="formtips onSuccess"&gt;'+okMsg+'&lt;/span&gt;');<BR><BR>}else{<BR>var errorMsg ="验证码不正确";<BR>$parent.append('&lt;span class="formtips onError"&gt;'+errorMsg+'&lt;/span&gt;');<BR><BR>}<BR>});<BR><BR>}<BR>}).focus(function(){//重新操作时重新赋值事件<BR>$(this).triggerHandler("blur");//绑定处理事件<BR>});<BR>/**这部分个人感觉有点多了<BR>.keyup(function(){<BR>$(this).triggerHandler("blur");<BR>}).focus(function(){<BR>$(this).triggerHandler("blur");<BR>});**///end blur<BR><BR><BR>//提交，最终验证。<BR>$('#send').click(function(){<BR>$("form:input.required").trigger('blur');<BR>var numError = $('form .onError').length;<BR>if(numError){<BR>return false;<BR>} <BR>var url="registerProcess.php";<BR>//var data={'username':$("#username").val(),'password':$("#password").val(),'repassword':$("#repassword").val(),'passtips':$('#passtips').val(),'passans':$("#passans").val(),<BR>// 'email':$("#email").val(),'qq':$("#qq").val(),'sex':$(":input[name='sex'][checked]").val(),'url':$("#url"),'faceimg':$("#faceimg").attr("src")};<BR><BR>$.post(url,$("#myform").serialize(),function(res){<BR>if(res==1){<BR>alert("注册成功,请进入登录界面");<BR>}else{<BR>alert("没有成功");<BR>}<BR><BR>});<BR><BR>});<BR><BR>//重置<BR>$('#res').click(function(){<BR>$(".formtips").remove(); <BR>});<BR><BR><BR>});<BR><BR><BR>而处理form表单处理页面registerProcess.php<BR>&lt;?php<BR>//处理register过来的内容<BR><BR>if(!defined('IN_TG')){<BR>exit('Access Defined');<BR>}<BR>//唯一标识 md5(uniqid(rand(),true));32位 更历害的可以是40位的 sha1(uniqid(rand(),true));<BR>require_once ROOT_PATH.'includes/common.inc.php';<BR>require_once ROOT_PATH.'model/userservice.class.php';<BR>$hCon=new stdClass();//设置一个对象<BR>$hCon-&gt;uniqid=$_SESSION['uniqid'];<BR>$hCon-&gt;active=$_SESSION['active'];<BR>$hCon-&gt;username=trim($_POST['username']);//去掉空格<BR>$hCon-&gt;password=md5($_POST['password']);//密码加密<BR>$hCon-&gt;repassword=md5($_POST['repassword']);<BR>$hCon-&gt;question=_mysql_string($_POST['passtips']);//去掉转义字符 <BR>$hCon-&gt;answer=_mysql_string($_POST['passans']);<BR>$hCon-&gt;sex=_mysql_string($_POST['sex']);<BR>$hCon-&gt;face=_mysql_string($_POST['faceimg']);<BR>$hCon-&gt;qq=$_POST['qq'];<BR>$hCon-&gt;url=_mysql_string($_POST['url']);<BR>$hCon-&gt;email=_mysql_string($_POST['email']);<BR>session_start();<BR>if($hCon-&gt;uniqid!=$_SESSION['uniqid']){<BR>_alert_back("防止恶意提交表单");<BR>}<BR>$userservice=new CUserService();<BR>$res=$userservice-&gt;addUser($hCon);<BR>print $res;  </td>
  </tr>
    <tr>
    <td rowspan="2">11</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-14-47.html">网页空行问题</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:14:47</td>
    <td rowspan="2"><a href="editnews.php?id=11">编辑</a> <a href="del.php?id=11">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：1、 在做网页时，经常要把一些要重复使用的部分做成一个独立的文件，然后把它 include 到需要的页面中，比如头部的 Logo、导航，底部的版权区。不知道大家有没有碰到过这么个问题，就是当你把文件 include 进来后，运行网页时会发现include进来的部分的下方多了一个空行，这往往就破坏了页面的美观。如果你碰到了这种情况，那么，请再看看你的网页是不是用的 utf-8 编码，答案应该是肯定的。<BR>　　这个问题是由于utf-8的DOM标签引起的，解决办法其实很简单，就是：<BR>在 Dreamweaver 中打开被 include 的文件，然后选菜单栏的 Modify --&gt; Page Properties，再选择 Title/Encoding，然后去掉 然后去掉 Include Unicode Signature(BOM) 的那个勾，再保存；如果你用的是中文版的，那就是 "修改 --&gt; 页面属性 --&gt; 标题/编码"；快捷键的话，是 Ctrl + j。<BR><BR>2、html标签中的form，ul，h1，h2，h3 等等默认带有边距（至少IE下会出现）。可以用margin:0来取消其自带的边距。 </td>
  </tr>
    <tr>
    <td rowspan="2">10</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-12-41.html">PHP更新文章时同时更新对应的HTML页面</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:12:41</td>
    <td rowspan="2"><a href="editnews.php?id=10">编辑</a> <a href="del.php?id=10">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：<P>&nbsp;&nbsp;&nbsp; 编辑文章时应该将其对应的Html静页面同时进行更新，下面来看一下“PHP更新文章时同时更新对应的Html页面”的思路，大致是这样的，执行的程序首先要将字段接受过来，这里有一个关键是有一个字段是保存Html的路径，接受过来之后，再将对应的模板打开，进行新内容的替换，重新生成Html。</P>
<P><A title=在新窗口打开图片 href="http://www.60ie.net/download.asp?id=168" target=_blank></A></P>
<P>下面是编辑时的执行程序：</P>
<P>&lt;?php<BR>if($_SESSION["admin"]&lt;&gt;session_id())<BR>{<BR>header("location:admin.php");<BR>}<BR>require_once("../inc/conn.php");<BR>$id=$_GET["id"];<BR>if($_POST["Submit"])<BR>{<BR>$title=$_POST["title"];<BR>$typeid=$_POST["typ"];<BR>$sql="select * from newstype where newstypeid=$typeid";<BR>$rs=mysql_query($sql);<BR>$rows=mysql_fetch_assoc($rs);<BR>$type=$rows["newstype"];<BR>$content=$_POST["d_content"];<BR>$source=$_POST["source"];<BR>$path=$_POST["path"];<BR>$time=$_POST["time"];<BR>$root=$_SERVER['DOCUMENT_ROOT'];<BR>$filepath="$root/newslist/$path";<BR>if(file_exists($filepath))<BR>{<BR>$moban="$root/moban/moban.html";<BR>$fp=fopen($moban,"r");<BR>$str=fread($fp,filesize($moban));<BR>fclose($fp);<BR>$str=str_replace("{-type-}",$type,$str);<BR>$str=str_replace("-title-",$title,$str);<BR>$str=str_replace("-time-",$time,$str);<BR>$str=str_replace("-content-",$content,$str);<BR>$str=str_replace("-source-",$source,$str);<BR>$fp=fopen($filepath,"w");<BR>fwrite($fp,$str);<BR>fclose($fp);<BR>}<BR>$sql="update newscontent set newstypeid=$typeid,newstitle='$title',newssource='$source' where newsid=$id";<BR>if(mysql_query($sql))<BR>{<BR>?&gt;<BR>&lt;h2 style="color:#FF0000" align="center"&gt;修改成功&lt;/h2&gt;<BR>&lt;h3 align="center"&gt;&lt;a href="admin.php"&gt;返回&lt;/a&gt;&lt;/h3&gt;<BR>&lt;?php<BR>}<BR>else<BR>{<BR>?&gt;<BR>&lt;h2 style="color:#009900" align="center"&gt;修改失败&lt;/h2&gt;<BR>&lt;h3 align="center"&gt;&lt;a href="admin.php"&gt;返回&lt;/a&gt;&lt;/h3&gt;<BR>&lt;?php<BR>}<BR>die();<BR>}<BR>?&gt;</P>
<P>&nbsp;&nbsp;&nbsp; 其实只要想明白其中的原理了，也就不难理解了。刚开始的 if 语句不用管，是一个验证是否登陆的语句，如果没有admin的值，会跳转到 admin.php页面(上次发的源码里面没有这一句，这次加上了),require_once("../inc/conn.php");这句就是包含数据库连接的文件。$id=$_GET["id"];这个就是接受过来的新闻ID，一定要有这句，否则找不到要更新哪篇文章，下面的if语句就是当Submit接受的不为空的时候，将进行文章更新操作，数据库里面的更新好理解，只要有一条Updata语句即可，这里的关键在于中间的 if(file_exists($filepath)) 和下面执行的句子了，这里的意思是判断文章的路径是不是存在，如果存在的话就进行更新替换对应的html操作。进行替换这里依然用的是str_replace的函数。这些进行完以后，下面就有一个判断是否修改成功，很简单就不再阐述了。</P> </td>
  </tr>
    <tr>
    <td rowspan="2">9</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-12-07.html">精简美观的PHP+Mysql留言板V.01</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:12:07</td>
    <td rowspan="2"><a href="editnews.php?id=9">编辑</a> <a href="del.php?id=9">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：<P>&nbsp;&nbsp;&nbsp; 本程序是夏日留言本的PHP+Mysql版本，版本号是V.01，基于PHP+Mysql架构，本留言板源码简单，结构小巧，有独立的后台管理，可进行在线回复，删除，锁定与解锁等功能，而且这个独立的管理后台也可以专门进行研究。这个留言本的制作目的是一个功能齐全，实用美观，便于嵌入网站的小型留言本，另一个目的是帮助新手用户学习研究使用。</P>
<P>&nbsp;&nbsp;&nbsp; 本程序是由夏日博客独立设计完成，源码完全开源免费，程序你可以进行随意修改使用，但如果要进行商业用途，出现的一切后果由使用者负责！</P>
<P><A title=在新窗口打开图片 href="http://www.60ie.net/download.asp?id=155" target=_blank></A></P>
<P><A title=在新窗口打开图片 href="http://www.60ie.net/download.asp?id=156" target=_blank></A></P>
<P><A title=在新窗口打开图片 href="http://www.60ie.net/download.asp?id=157" target=_blank></A></P>
<P><A title=在新窗口打开图片 href="http://www.60ie.net/download.asp?id=158" target=_blank></A></P>
<P>为安全起见，使用后可进行修改后台默认管理路径 admin/ 和 默认密码。</P>
<P>Mysql密码和数据库名称需要修改以下文件：根目录下mrconn.php、admin/目录下mrconn.php</P>
<P>数据库文件是根目录下的 PHPlyb.SQL</P>
<P>后台地址：你的域名：/admin/login.php</P>
<P>后台帐号：admin 后台密码：admin</P>
<P>&nbsp;&nbsp;&nbsp; 说明：由于制作仓促，还没有经过严格测试，存在一些BUG，主要是让新手学习使用的，后期我会不断完善，努力为新手用户服务。</P>
<P>&nbsp;&nbsp;&nbsp; 欢迎新手朋友一起交流完善夏日PHP+Mysql留言板，如您在使用中发现任何问题和意见，请与我联系，发布地址：<A href="http://www.60ie.net/article/5/259.html"><FONT color=#0066cc>http://www.60ie.net/article/5/259.html</FONT></A> 稍后进行发布下载地址。</P> </td>
  </tr>
    <tr>
    <td rowspan="2">8</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-11-17.html">PHP内建常量和常用函数</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:11:17</td>
    <td rowspan="2"><a href="editnews.php?id=8">编辑</a> <a href="del.php?id=8">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：<P>ob_start(); 打开缓冲区 ob_start()必须放在页面的最顶端</P>
<P><STRONG>php提供了一些内建常量:<BR></STRONG><BR>__LINE__ : 返回文件当前行数</P>
<P>__FILE__ : 返回当前文件的绝对路径</P>
<P>PHP_VERSION : 返回php的版本<BR><BR><STRONG>关于字符串的一些函数</STRONG><BR><BR>strlen() 获取一个字符串的长度<BR>strstr() 测试一个字符串是否在另一个字符串之中，区分大小写<BR>strpos() 子字符串的位置<BR>substr() 提取一个字符串的一部分<BR>trim() 去空格<BR>strtoupper() 转换大写<BR>strtolower() 转换小些<BR>explode() 把字符串分解到数组</P> </td>
  </tr>
    <tr>
    <td rowspan="2">7</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/22-10-20.html">PHP去除HTML的函数strip_tags</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 22:10:20</td>
    <td rowspan="2"><a href="editnews.php?id=7">编辑</a> <a href="del.php?id=7">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：<P>&nbsp;&nbsp;&nbsp; 门户网站前台用户提交需要过滤掉HTML的标签，这时就想到了PHP的过滤函数strip_tags,这个函数可以将HTML文本转换为纯文本，该函数可以删除字符串中所有的PHP和HTML标记，读取时只显示纯文本。</P>
<P>定义和用法：strip_tags()函数去掉 HTML、XML 以及 PHP的标签。</P>
<P>语法：strip_tags(string,allow).</P>
<P>参数string：必需的参数，规定要检查的字符串。</P>
<P>参数allow:可选的参数，这些标签不会被删除。</P>
<P>看下面的例子：<BR><BR>&lt;?php<BR>$text = '&lt;p&gt;Test paragraph.&lt;/p&gt;&lt;!-- Comment --&gt; Other text';<BR>echo strip_tags($text);<BR>echo "\n";<BR><BR>// Allow &lt;p&gt;<BR>echo strip_tags($text, '&lt;p&gt;');<BR>?&gt; <BR>上例将输出：<BR>Test paragraph. Other text<BR>&lt;p&gt;Test paragraph.&lt;/p&gt; Other text</P>
<P>我们在过滤特殊字符时一定要谨慎使用，如果直接将&lt;p&gt;标签输出就不好了。</P> </td>
  </tr>
    <tr>
    <td rowspan="2">6</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/21-38-50.html">PHP批量生成静态HTML的简单原理和方法</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 21:38:50</td>
    <td rowspan="2"><a href="editnews.php?id=6">编辑</a> <a href="del.php?id=6">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容： </td>
  </tr>
    <tr>
    <td rowspan="2">5</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/21-33-59.html">2012已成过去，程序员的生活</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 21:33:59</td>
    <td rowspan="2"><a href="editnews.php?id=5">编辑</a> <a href="del.php?id=5">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容： </td>
  </tr>
    <tr>
    <td rowspan="2">4</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/21-32-50.html">甘苦人生-想写点什么了</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 21:32:50</td>
    <td rowspan="2"><a href="editnews.php?id=4">编辑</a> <a href="del.php?id=4">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容： </td>
  </tr>
    <tr>
    <td rowspan="2">3</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/21-30-57.html">某女遇劫匪</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 21:30:57</td>
    <td rowspan="2"><a href="editnews.php?id=3">编辑</a> <a href="del.php?id=3">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容： </td>
  </tr>
    <tr>
    <td rowspan="2">2</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/21-30-30.html">她们谈被插的感觉―亲,别想歪了啊。</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 21:30:30</td>
    <td rowspan="2"><a href="editnews.php?id=2">编辑</a> <a href="del.php?id=2">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：<P>后台测试成功了吗？</P> </td>
  </tr>
    <tr>
    <td rowspan="2">1</td>
	<!--rs("filepath")保存了静态html文件的URL地址-->
    <td><a href="../list/2013-01-15/21-27-23.html">2012.12.21 我眼中的世界未日</a></td>
	 <td>夏日博客</td>
	  <td>2013-01-15 21:27:23</td>
    <td rowspan="2"><a href="editnews.php?id=1">编辑</a> <a href="del.php?id=1">删除</a></td>
  </tr>
  <tr>
       <td colspan="3">内容：&nbsp;&nbsp;&nbsp; 我眼中的世界未日：生存体验,感受生离死别,绝望的一刻,把积攒在内心的话吐露出来,在死亡面前,咱们生活中遇到的所有困难,都是那么的微不足道,面对死亡的哪一刻,我只有反思,没有抱怨,心里只有爱,没有怨恨,那会儿我想要是我能活着,我一定积极的,认真的好好的面对生活,所以,就这样,反思一下人生的意义。 </td>
  </tr>
    </tbody>
</table>

</body>
</html>
